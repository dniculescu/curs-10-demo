
FILES = overflow_example.c auth_overflow.c
CFLAGS_CANARY = -m32 -fno-pie 	-g -Fdwarf 
CFLAGS_NOCANARY = -m32  -fno-pie -g -Fdwarf -fno-stack-protector 

all : overflow_example canary nocanary

canary: auth_overflow.c

	gcc $(CFLAGS_CANARY) -S -masm=intel -o canary.s $<
	gcc $(CFLAGS_CANARY) -o canary $<

nocanary: auth_overflow.c
	gcc $(CFLAGS_NOCANARY) -S -masm=intel -o nocanary.s $< 
	gcc $(CFLAGS_NOCANARY) -o nocanary $<

overflow_example: overflow_example.c
	gcc  -m32  -g -Fdwarf -fno-pie  -fno-stack-protector -o overflow_example overflow_example.c 


clean: 
	rm -f  *.s  canary nocanary overflow_example 
	rm -f *~
